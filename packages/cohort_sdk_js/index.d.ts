/* tslint:disable */
/* eslint-disable */

/* auto-generated by NAPI-RS */

export interface JsConfig {
  retryAttemptsMax: number
  retryBackoffMaxMs: number
  retryOoBackoffMaxMs: number
  retryOoAttemptsMax: number
  agent: string
  cohort: string
  bufferSize: number
  timeoutMs: number
  brokers: string
  topic: string
  saslMechanisms?: string
  kafkaUsername?: string
  kafkaPassword?: string
  agentGroupId: string
  agentFetchWaitMaxMs: number
  agentMessageTimeoutMs: number
  agentEnqueueTimeoutMs: number
  agentLogLevel: number
  replicatorClientId: string
  replicatorGroupId: string
  producerConfigOverrides: Record<string, string>
  consumerConfigOverrides: Record<string, string>
  /** Initial capacity of the suffix */
  suffixSizeMax: number
  /**
   * - The suffix prune threshold from when we start checking if the suffix
   * should prune.
   * - Set to None if pruning is not required.
   * - Defaults to None.
   */
  suffixPruneAtSize?: number
  /**
   * Minimum size of suffix after prune.
   * - Defaults to None.
   */
  suffixSizeMin?: number
  replicatorBufferSize: number
  dbPoolSize: number
  dbUser: string
  dbPassword: string
  dbHost: string
  dbPort: string
  dbDatabase: string
}
export interface JsCertificationRequest {
  candidate: JsCandidateData
  timeoutMs: number
}
export interface JsCandidateData {
  readset: Array<string>
  writeset: Array<string>
  statemap?: Array<Record<string, any>>
}
export interface OoRequest {
  xid: string
  safepoint: number
  newVersion: number
  attemptNr: number
}
export class Initiator {
  static init(config: JsConfig): Promise<Initiator>
  certify(jsCertificationRequest: JsCertificationRequest, ooCallback: (err: Error | null, value: OORequest) => any): Promise<string>
}
